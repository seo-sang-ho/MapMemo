# 프로젝트 README (업데이트 예정)

## V1 기능 요약

현재까지 구현한 주요 기능은 다음과 같습니다:

### 네이버 지도 연동

* React + Vite 환경에서 네이버 지도 API를 연동해 초기 지도 렌더링 기능 구현

### 마커 등록 및 조회

* 마커 등록(POST): 메모 제목, 내용, 위도/경도를 입력하면 백엔드 `/api/memos` 로 저장
* 마커 조회(GET): 로그인만 하면 **데이터베이스의 모든 마커가 조회되는 구조**로 구성됨

### 로그인 & JWT 인증

* Spring Boot 기반의 JWT 로그인/인가 시스템 구축
* 로그인 성공 시 JWT 발급 및 React에서 Axios 인터셉터를 통해 토큰 자동 포함

---

## V2 개발 계획: 사용자별 마커 저장 기능

현재는 "로그인만 되어 있으면 전체 마커가 조회되는 구조"이지만,
V2에서는 사용자별로 자신이 등록한 마커만 조회되도록 개선할 예정입니다.

## 구현 목표

* 각 사용자 계정에 마커를 연동하여 로그인한 사용자가 등록한 마커만 조회 가능하도록 변경

## 상세 구현 계획

### 1) JPA 엔티티 필드 확장

* 기존 `Memo`(또는 `Marker`) 엔티티에 `memberId` 필드를 추가
* JPA의 @ManyToOne, @JoinColumn 등을 사용하여 Member 엔티티와 연관관계 설정
* DB 스키마는 JPA가 자동으로 업데이트하거나, 필요 시 DDL 출력 기반으로 반영

### 2) 마커 등록 API 수정 (POST /api/memos)

* JWT 토큰에서 userId 추출
* 서버에서 Memo 엔티티 생성 시 memberId를 함께 저장
* 프론트엔드는 기존과 동일하게 제목/내용/좌표만 전달

### 3) 마커 조회 API 수정 (GET /api/memos)

* 기존: 모든 마커 조회
* 변경: JWT에서 추출한 userId 기준으로 해당 사용자의 마커만 조회

  * 예: `memoRepository.findAllByMemberId(userId)` 형태로 처리

### 4) 프론트엔드 연동 수정

* 로그인 이후 사용자 전용 마커만 조회되도록 Axios 요청 흐름 변경
* 지도 UI는 기존과 동일하게 유지

---

## 향후 업데이트 예정

* 사용자별 마커 수정 및 삭제 기능
* 지도 내 마커 필터링 기능
* 마커 검색 기능
* 다중 지도 지원

V2 기능이 완성되면 API 스펙 및 예제 코드까지 본 문서에 추가할 예정입니다.
